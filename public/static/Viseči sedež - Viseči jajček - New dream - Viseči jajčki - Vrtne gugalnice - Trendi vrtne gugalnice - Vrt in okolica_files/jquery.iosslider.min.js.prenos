/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.29 (11/04/2012)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var ha=0,T=0,X=0,P=0,J="ontouchstart"in window,ya="onorientationchange"in window,Y=!1,aa=!1,ba=!1,ca="pointer",ma="pointer",ia=[],da=[],na=[],oa=[],ea=[],F=[],W=[],x=[],f=[],m=[],pa=[],Z=[],e={showScrollbar:function(h,e){h.scrollbarHide&&a("."+e).css({opacity:h.scrollbarOpacity,filter:"alpha(opacity:"+100*h.scrollbarOpacity+")"})},hideScrollbar:function(a,d,c,A,b,q,f,m,w,v){if(a.scrollbar&&a.scrollbarHide)for(var x=c;x<c+25;x++)d[d.length]=e.hideScrollbarIntervalTimer(10*x,A[c],(c+24- x)/24,b,q,f,m,w,v,a)},hideScrollbarInterval:function(h,d,c,A,b,q,f,x,w){P=-1*h/m[x]*(b-q-f-A);e.setSliderOffset("."+c,P);a("."+c).css({opacity:w.scrollbarOpacity*d,filter:"alpha(opacity:"+100*w.scrollbarOpacity*d+")"})},slowScrollHorizontalInterval:function(h,d,c,A,b,q,M,I,w,v,H,t,p,s,k,B,j,g){if(g.infiniteSlider){if(c<=-1*m[k]){var n=a(h).width();if(c<=-1*pa[k]){var r=-1*H[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],r+B);b<t.length&&(t[b]=-1*r);r+=a(this).outerWidth(!0)});c+=-1*t[0];f[k]= -1*t[0]+B;m[k]=f[k]+n-q;x[k]=0}else{var i=0,C=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")<C&&(C=e.getSliderOffset(this,"x"),i=a)});p=f[k]+n;e.setSliderOffset(a(d)[i],p);f[k]=-1*t[1]+B;m[k]=f[k]+n-q;t.splice(0,1);t.splice(t.length,0,-1*p+B);x[k]++}}if(c>=-1*f[k]||0<=c){n=a(h).width();if(0<=c){r=-1*H[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],r+B);b<t.length&&(t[b]=-1*r);r+=a(this).outerWidth(!0)});c-=-1*t[0];f[k]=-1*t[0]+B;m[k]=f[k]+n-q;for(x[k]=s;-1*t[0]- n+B>-1*e.getSliderOffset(h,"x")&&g.snapSlideCenter;){var u=0,G=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")>G&&(G=e.getSliderOffset(this,"x"),u=a)});p=f[k]-a(d[u]).outerWidth(!0);e.setSliderOffset(a(d)[u],p);t.splice(0,0,-1*p+B);t.splice(t.length-1,1);f[k]=-1*t[0]+B;m[k]=f[k]+n-q;x[k]--;F[k]++}}0>c&&(u=0,G=e.getSliderOffset(a(d[0]),"x"),a(d).each(function(a){e.getSliderOffset(this,"x")>G&&(G=e.getSliderOffset(this,"x"),u=a)}),p=f[k]-a(d[u]).outerWidth(!0),e.setSliderOffset(a(d)[u], p),t.splice(0,0,-1*p+B),t.splice(t.length-1,1),f[k]=-1*t[0]+B,m[k]=f[k]+n-q,x[k]--)}}H=!1;q=e.calcActiveOffset(g,c,t,q,x[k],s,v,k);p=(q+x[k]+s)%s;g.infiniteSlider?p!=W[k]&&(H=!0):q!=F[k]&&(H=!0);if(H&&""!=g.onSlideChange)g.onSlideChange(new e.args(g,h,a(h).children(":eq("+p+")"),p,j,!0));F[k]=q;W[k]=p;c=Math.floor(c);e.setSliderOffset(h,c);g.scrollbar&&(P=Math.floor((-1*c-f[k])/(m[k]-f[k])*(M-I-b)),h=b-w,c>=-1*f[k]?(h=b-w- -1*P,e.setSliderOffset(a("."+A),0)):(c<=-1*m[k]+1&&(h=M-I-w-P),e.setSliderOffset(a("."+ A),P)),a("."+A).css({width:h+"px"}))},slowScrollHorizontal:function(h,d,c,A,b,q,M,I,w,v,H,t,p,s,k,B,j,g,n,r){var q=[],i=e.getSliderOffset(h,"x"),C=0,u=25/1024*I;frictionCoefficient=r.frictionCoefficient;elasticFrictionCoefficient=r.elasticFrictionCoefficient;snapFrictionCoefficient=r.snapFrictionCoefficient;5<b&&r.snapToChildren&&!g?C=1:-5>b&&(r.snapToChildren&&!g)&&(C=-1);b<-1*u?b=-1*u:b>u&&(b=u);a(h)[0]!==a(j)[0]&&(C*=-1,b*=-2);if(r.infiniteSlider)var G=f[s],D=m[s],l=x[s];j=[];g=[];for(u=0;u<p.length;u++)j[u]= p[u],u<d.length&&(g[u]=e.getSliderOffset(a(d[u]),"x"));for(;1<b||-1>b;){b*=frictionCoefficient;i+=b;if((i>-1*f[s]||i<-1*m[s])&&!r.infiniteSlider)b*=elasticFrictionCoefficient,i+=b;if(r.infiniteSlider){if(i<=-1*D){for(var D=a(h).width(),K=0,J=g[0],u=0;u<g.length;u++)g[u]<J&&(J=g[u],K=u);u=G+D;g[K]=u;G=-1*j[1]+n;D=G+D-I;j.splice(0,1);j.splice(j.length,0,-1*u+n);l++}if(i>=-1*G){D=a(h).width();K=0;J=g[0];for(u=0;u<g.length;u++)g[u]>J&&(J=g[u],K=u);u=G-a(d[K]).outerWidth(!0);g[K]=u;j.splice(0,0,-1*u+n); j.splice(j.length-1,1);G=-1*j[0]+n;D=G+D-I;l--}}q[q.length]=i}g=!1;b=e.calcActiveOffset(r,i,j,I,l,B,F[s],s);G=(b+l+B)%B;r.snapToChildren&&(r.infiniteSlider?G!=W[s]&&(g=!0):b!=F[s]&&(g=!0),0>C&&!g?(b++,b>=p.length&&!r.infinteSlider&&(b=p.length-1)):0<C&&!g&&(b--,0>b&&!r.infinteSlider&&(b=0)));if(r.snapToChildren||(i>-1*f[s]||i<-1*m[s])&&!r.infiniteSlider){i=e.getSliderOffset(h,"x");for(q.splice(0,q.length);i<j[b]-0.5||i>j[b]+0.5;)i=(i-j[b])*snapFrictionCoefficient+j[b],q[q.length]=i;q[q.length]=j[b]}C= 1;0!=q.length%2&&(C=0);for(i=0;i<c.length;i++)clearTimeout(c[i]);l=(b+l+B)%B;G=0;for(i=C;i<q.length;i+=2)if(i==C||1<Math.abs(q[i]-G)||i>=q.length-2)G=q[i],c[c.length]=e.slowScrollHorizontalIntervalTimer(10*i,h,d,q[i],A,M,I,w,v,H,b,t,p,k,B,s,n,l,r);G=(b+x[s]+B)%B;""!=r.onSlideComplete&&(c[c.length]=e.onSlideCompleteTimer(10*(i+1),r,h,a(h).children(":eq("+G+")"),G,s));ea[s]=c;e.hideScrollbar(r,c,i,q,A,M,I,v,H,s)},onSlideComplete:function(h,d,c,A,b){if(""!=h.onSlideComplete){var q=ia[b]!=A?!0:!1;h.onSlideComplete(new e.args(h, a(d),c,A,A,q))}ia[b]=A},getSliderOffset:function(e,d){var c=0,d="x"==d?4:5;J&&Y?(c=a(e).css("-webkit-transform").split(","),c=parseInt(c[d],10)):c=parseInt(a(e).css("left"),10);return c},setSliderOffset:function(e,d){J&&Y?a(e).css({webkitTransform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(Y=!0,ca="-webkit-grab",ma="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ca="move",ma="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")? aa=!0:null!=navigator.userAgent.match("MSIE 8")?ba=!0:navigator.userAgent.match("MSIE 9")},getSlideNumber:function(a,e,c){return(a-x[e]+c)%c},calcActiveOffset:function(a,e,c,A){for(var b=!1,a=[],q,f=0;f<c.length;f++)c[f]<=e&&c[f]>e-A&&(!b&&c[f]!=e&&(a[a.length]=c[f-1]),a[a.length]=c[f],b=!0);0==a.length&&(a[0]=c[c.length-1]);for(f=b=0;f<a.length;f++){var m=Math.abs(e-a[f]);m<A&&(b=a[f],A=m)}for(f=0;f<c.length;f++)b==c[f]&&(q=f);return q},changeSlide:function(h,d,c,f,b,q,m,I,w,v,H,t,p,s,k,B,j){e.autoSlidePause(p); for(var g=0;g<f.length;g++)clearTimeout(f[g]);var n=Math.ceil(j.autoSlideTransTimer/10)+1,r=e.getSliderOffset(d,"x"),i=t[h],C=i-r;if(j.infiniteSlider){h=(h-x[p]+2*k)%k;g=!1;0==h&&2==k&&(h=k,t[h]=t[h-1]-a(c).eq(0).outerWidth(!0),g=!0);i=t[h];C=i-r;i=[t[h]-a(d).width(),t[h]+a(d).width()];g&&t.splice(t.length-1,1);for(g=0;g<i.length;g++)Math.abs(i[g]-r)<Math.abs(C)&&(C=i[g]-r)}var i=[],u;e.showScrollbar(j,b);for(g=0;g<=n;g++)u=g,u/=n,u--,u=r+C*(Math.pow(u,5)+1),i[i.length]=u;for(g=r=0;g<i.length;g++){if(0== g||1<Math.abs(i[g]-r)||g>=i.length-2)r=i[g],f[g]=e.slowScrollHorizontalIntervalTimer(10*(g+1),d,c,i[g],b,q,m,I,w,v,h,H,t,s,k,p,B,h,j);0==g&&""!=j.onSlideStart&&(n=(F[p]+x[p]+k)%k,j.onSlideStart(new e.args(j,d,a(d).children(":eq("+n+")"),n,h,!1)))}r=!1;n=(h+x[p]+k)%k;j.infiniteSlider?n!=W[p]&&(r=!0):h!=F[p]&&(r=!0);r&&""!=j.onSlideComplete&&(f[f.length]=e.onSlideCompleteTimer(10*(g+1),j,d,a(d).children(":eq("+n+")"),n,p));ea[p]=f;e.hideScrollbar(j,f,g,i,b,q,m,w,v,p);e.autoSlide(d,c,f,b,q,m,I,w,v,H, t,p,s,k,B,j)},autoSlide:function(a,d,c,f,b,q,m,I,w,v,H,t,p,s,k,B){if(!B.autoSlide)return!1;e.autoSlidePause(t);da[t]=setTimeout(function(){!B.infiniteSlider&&F[t]>H.length-1&&(F[t]-=s);e.changeSlide((F[t]+x[t]+s+1)%s,a,d,c,f,b,q,m,I,w,v,H,t,p,s,k,B);e.autoSlide(a,d,c,f,b,q,m,I,w,v,H,t,p,s,k,B)},B.autoSlideTimer+B.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(da[a])},isUnselectable:function(e,d){return""!=d.unselectableSelector&&1==a(e).closest(d.unselectableSelector).size()?!0:!1}, slowScrollHorizontalIntervalTimer:function(a,d,c,f,b,q,m,x,w,v,F,t,p,s,k,B,j,g,n){return setTimeout(function(){e.slowScrollHorizontalInterval(d,c,f,b,q,m,x,w,v,F,t,p,s,k,B,j,g,n)},a)},onSlideCompleteTimer:function(a,d,c,f,b,q){return setTimeout(function(){e.onSlideComplete(d,c,f,b,q)},a)},hideScrollbarIntervalTimer:function(a,d,c,f,b,q,m,x,w,v){return setTimeout(function(){e.hideScrollbarInterval(d,c,f,b,q,m,x,w,v)},a)},args:function(f,d,c,m,b,q){this.settings=f;this.data=a(d).parent().data("iosslider"); this.slideChanged=q;this.sliderObject=d;this.sliderContainerObject=a(d).parent();this.currentSlideObject=c;this.currentSlideNumber=m+1;this.targetSlideObject=a(d).children(":eq("+b+")");this.targetSlideNumber=b+1;this.currentSliderOffset=-1*e.getSliderOffset(d,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var R={init:function(h,d){var c=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92, elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"", navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},h);void 0==d&&(d=this);return a(d).each(function(){function d(){e.autoSlidePause(b);qa=a(y).find("a");va=a(y).find("[onclick]");ra=a(y).find("*");a(g).css("width","");a(g).css("height", "");a(y).css("width","");z=a(y).children().not("script");a(z).css("width","");m[b]=0;l=[];k=a(g).parent().width();n=a(g).outerWidth(!0);c.responsiveSlideContainer&&(n=a(g).outerWidth(!0)>k?k:a(g).outerWidth(!0));a(g).css({position:c.stageCSS.position,top:c.stageCSS.top,left:c.stageCSS.left,overflow:c.stageCSS.overflow,zIndex:c.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:n});a(c.unselectableSelector).css({cursor:"default"});c.responsiveSlides&&a(z).each(function(){var b= a(this).outerWidth(!0),b=b>n?n+-1*(a(this).outerWidth(!0)-a(this).width()):a(this).width();a(this).css({width:b})});a(z).each(function(c){a(this).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});l[c]=-1*m[b];m[b]+=a(this).outerWidth(!0)});c.snapSlideCenter&&(j=0.5*(n-a(z[0]).outerWidth(!0)));pa[b]=2*m[b];a(z).each(function(c){e.setSliderOffset(a(this),-1*l[c]+m[b]+j);l[c]-=m[b]});if(!c.infiniteSlider&&!c.snapSlideCenter){for(var N=0;N<l.length&&!(l[N]<=-1*(2*m[b]-n));N++)da=N;l.splice(da+ 1,l.length);l[l.length]=-1*(2*m[b]-n)}for(N=0;N<l.length;N++)K[N]=l[N];G&&(c.startAtSlide=c.startAtSlide>l.length?l.length:c.startAtSlide,F[b]=c.startAtSlide-1,W[b]=F[b],G=!1);f[b]=m[b]+j;a(y).css({position:"relative",cursor:ca,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:m[b]+"px"});U=m[b];m[b]=2*m[b]-n+2*j;(O=U<n?!0:!1)&&a(y).css({cursor:"default"});B=a(g).parent().outerHeight(!0);r=a(g).height();c.responsiveSlideContainer&&(r=a(g).height()>B?B:a(g).height());a(g).css({height:r}); if(c.infiniteSlider&&!O){e.getSliderOffset(a(y),"x");for(N=-1*((x[b]+E)%E);0>N;){var u=0,A=e.getSliderOffset(a(z[0]),"x");a(z).each(function(a){e.getSliderOffset(this,"x")<A&&(A=e.getSliderOffset(this,"x"),u=a)});var D=f[b]+U;e.setSliderOffset(a(z)[u],D);f[b]=-1*l[1]+j;m[b]=f[b]+U-n;l.splice(0,1);l.splice(l.length,0,-1*D+j);N++}for(;-1*l[0]-U+j>-1*e.getSliderOffset(y,"x")&&c.snapSlideCenter;){var I=0,wa=e.getSliderOffset(a(z[0]),"x");a(z).each(function(a){e.getSliderOffset(this,"x")>wa&&(wa=e.getSliderOffset(this, "x"),I=a)});D=f[b]-a(z[I]).outerWidth(!0);e.setSliderOffset(a(z)[I],D);l.splice(0,0,-1*D+j);l.splice(l.length-1,1);f[b]=-1*l[0]+j;m[b]=f[b]+U-n;x[b]--;F[b]++}}e.setSliderOffset(y,l[F[b]]);!J&&!c.desktopClickDrag&&a(y).css({cursor:"default"});c.scrollbar&&(a("."+w).css({margin:c.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+w+" ."+v).css({border:c.scrollbarBorder}),i=parseInt(a("."+w).css("marginLeft"))+parseInt(a("."+w).css("marginRight")),C=parseInt(a("."+w+" ."+v).css("borderLeftWidth"), 10)+parseInt(a("."+w+" ."+v).css("borderRightWidth"),10),p=""!=c.scrollbarContainer?a(c.scrollbarContainer).width():n,s=(p-i)/E,c.scrollbarHide||(R=c.scrollbarOpacity),a("."+w).css({position:"absolute",left:0,width:p-i+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?a("."+w).css("top","0"):a("."+w).css("bottom","0"),a("."+w+" ."+v).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground,height:c.scrollbarHeight,width:s-C+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder, webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:R,filter:"alpha(opacity:"+100*R+")",boxShadow:c.scrollbarShadow}),e.setSliderOffset(a("."+w+" ."+v),Math.floor((-1*l[F[b]]-f[b]+j)/(m[b]-f[b])*(p-i-s))),a("."+w).css({display:"block"}),H=a("."+w+" ."+v),t=a("."+w));c.scrollbarDrag&&!O&&a("."+w+" ."+v).css({cursor:ca});c.infiniteSlider&&(L=(m[b]+n)/3);""!=c.navSlideSelector&&a(c.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"});a(this).unbind(V).bind(V, function(){e.changeSlide(d,y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c)})});""!=c.navPrevSelector&&(a(c.navPrevSelector).css({cursor:"pointer"}),a(c.navPrevSelector).unbind(V).bind(V,function(){var a=(F[b]+x[b]+E)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c)}));""!=c.navNextSelector&&(a(c.navNextSelector).css({cursor:"pointer"}),a(c.navNextSelector).unbind(V).bind(V,function(){var a=(F[b]+x[b]+E)%E;(a<l.length-1||c.infiniteSlider)&&e.changeSlide(a+1,y,z,h,v,s,n,p,i,C,K,l,b,L, E,j,c)}));c.autoSlide&&!O&&(""!=c.autoSlideToggleSelector&&(a(c.autoSlideToggleSelector).css({cursor:"pointer"}),a(c.autoSlideToggleSelector).unbind(V).bind(V,function(){$?(e.autoSlide(y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c),$=!1,a(c.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(b),$=!0,a(c.autoSlideToggleSelector).addClass("on"))})),!$&&!O&&e.autoSlide(y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c),J?a(g).bind("touchend.iosSliderEvent",function(){!$&&!O&&e.autoSlide(y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c)}): (a(g).bind("mouseenter.iosSliderEvent",function(){e.autoSlidePause(b)}),a(g).bind("mouseleave.iosSliderEvent",function(){!$&&!O&&e.autoSlide(y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c)})));a(g).data("iosslider",{obj:xa,settings:c,scrollerNode:y,slideNodes:z,numberOfSlides:E,centeredSlideOffset:j,sliderNumber:b,originalOffsets:K,childrenOffsets:l,sliderMax:m[b],scrollbarClass:v,scrollbarWidth:s,scrollbarStageWidth:p,stageWidth:n,scrollMargin:i,scrollBorder:C,infiniteSliderOffset:x[b],infiniteSliderWidth:L}); return!0}ha++;var b=ha,h=[];na[b]=c;f[b]=0;m[b]=0;var M=[0,0],I=[0,0],w="scrollbarBlock"+ha,v="scrollbar"+ha,H,t,p,s,k,B,j=0,g=a(this),n,r,i,C,u,G=!0,D=-1,l,K=[],R=0,Q=0,Y=0,y=a(this).children(":first-child"),z,E=a(y).children().not("script").size(),S=!1,da=0,sa=!1,ja=void 0,L;x[b]=0;var O=!1;ia[b]=-1;var $=!1;oa[b]=!1;var ka,la=!1,fa=!1,U,V=J?"touchstart.iosSliderEvent":"click.iosSliderEvent",qa,va,ra;Z[b]=!1;ea[b]=[];c.scrollbarDrag&&(c.scrollbar=!0,c.scrollbarHide=!1);var xa=a(this);if(void 0!= xa.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});c.infiniteSlider&&(c.scrollbar=!1);c.scrollbar&&(""!=c.scrollbarContainer?a(c.scrollbarContainer).append("<div class = '"+w+"'><div class = '"+v+"'></div></div>"):a(y).parent().append("<div class = '"+w+"'><div class = '"+v+"'></div></div>"));if(!d())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick", this.onclick)});D=e.calcActiveOffset(c,e.getSliderOffset(a(y),"x"),l,n,x[b],E,void 0,b);D=(D+x[b]+E)%E;if(""!=c.onSliderLoaded)c.onSliderLoaded(new e.args(c,y,a(y).children(":eq("+D+")"),D,D,!1));ia[b]=D;if(na[b].responsiveSlides||na[b].responsiveSlideContainer)D=ya?"orientationchange":"resize",a(window).bind(D+".iosSliderEvent",function(){if(!d())return!0});c.keyboardControls&&!O&&a(document).bind("keydown.iosSliderEvent",function(a){!aa&&!ba&&(a=a.originalEvent);switch(a.keyCode){case 37:a=(F[b]+ x[b]+E)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c);break;case 39:a=(F[b]+x[b]+E)%E,(a<l.length-1||c.infiniteSlider)&&e.changeSlide(a+1,y,z,h,v,s,n,p,i,C,K,l,b,L,E,j,c)}});if(J||c.desktopClickDrag){var ta=J?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",ga=a(y),D=a(y),ua=!1;c.scrollbarDrag&&(ga=ga.add(H),D=D.add(t));a(ga).bind(ta,function(d){if(Z[b]||O||(ua=e.isUnselectable(d.target,c)))return!0;ka=a(this)[0]===a(H)[0]?H:y;!aa&&!ba&&(d=d.originalEvent);e.autoSlidePause(b); J?(eventX=d.touches[0].pageX,eventY=d.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=d.pageX,eventY=d.pageY,sa=!0,ja=y,a(this).css({cursor:ma}));M=[0,0];I=[0,0];T=0;S=!1;for(d=0;d<h.length;d++)clearTimeout(h[d]);d=e.getSliderOffset(y,"x");d>-1*f[b]+j+U?(d=-1*f[b]+j+U,e.setSliderOffset(a("."+v),d),a("."+v).css({width:s- C+"px"})):d<-1*m[b]&&(e.setSliderOffset(a("."+v),p-i-s),a("."+v).css({width:s-C+"px"}));d=a(this)[0]===a(H)[0]?f[b]:0;Q=-1*(e.getSliderOffset(this,"x")-eventX-d);e.getSliderOffset(this,"y");M[1]=eventX;I[1]=eventY;fa=!1});ta=J?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(D).bind(ta,function(d){!aa&&!ba&&(d=d.originalEvent);if(Z[b]||O||ua)return!0;var h=0;J||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(): document.selection&&document.selection.empty());if(J)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else if(eventX=d.pageX,eventY=d.pageY,!sa)return!1;M[0]=M[1];M[1]=eventX;T=(M[1]-M[0])/2;I[0]=I[1];I[1]=eventY;X=(I[1]-I[0])/2;if(!S&&""!=c.onSlideStart){var g=(F[b]+x[b]+E)%E;c.onSlideStart(new e.args(c,y,a(y).children(":eq("+g+")"),g,g,!1))}if((3<X||-3>X)&&3>T&&-3<T&&J&&!S)la=!0;(5<T||-5>T)&&J?(d.preventDefault(),S=!0):J||(S=!0);if(S&&!la){var g=e.getSliderOffset(y,"x"),k=a(this)[0]===a(t)[0]? f[b]:0,q=a(this)[0]===a(t)[0]?(f[b]-m[b])/(p-i-s):1,r=a(this)[0]===a(t)[0]?c.scrollbarElasticPullResistance:c.elasticPullResistance;J&&(Y!=d.touches.length&&(Q=-1*g+eventX),Y=d.touches.length);if(c.infiniteSlider){if(g<=-1*m[b]){var A=a(y).width();if(g<=-1*pa[b]){var w=-1*K[0];a(z).each(function(b){e.setSliderOffset(a(z)[b],w+j);b<l.length&&(l[b]=-1*w);w+=a(this).outerWidth(!0)});Q-=-1*l[0];f[b]=-1*l[0]+j;m[b]=f[b]+A-n;x[b]=0}else{var B=0,D=e.getSliderOffset(a(z[0]),"x");a(z).each(function(a){e.getSliderOffset(this, "x")<D&&(D=e.getSliderOffset(this,"x"),B=a)});r=f[b]+A;e.setSliderOffset(a(z)[B],r);f[b]=-1*l[1]+j;m[b]=f[b]+A-n;l.splice(0,1);l.splice(l.length,0,-1*r+j);x[b]++}}if(g>=-1*f[b]||0<=g)if(A=a(y).width(),0<=g){w=-1*K[0];a(z).each(function(b){e.setSliderOffset(a(z)[b],w+j);b<l.length&&(l[b]=-1*w);w+=a(this).outerWidth(!0)});Q+=-1*l[0];f[b]=-1*l[0]+j;m[b]=f[b]+A-n;for(x[b]=E;-1*l[0]-A+j>-1*e.getSliderOffset(y,"x")&&c.snapSlideCenter;){var G=0,H=e.getSliderOffset(a(z[0]),"x");a(z).each(function(a){e.getSliderOffset(this, "x")>H&&(H=e.getSliderOffset(this,"x"),G=a)});r=f[b]-a(z[G]).outerWidth(!0);e.setSliderOffset(a(z)[G],r);l.splice(0,0,-1*r+j);l.splice(l.length-1,1);f[b]=-1*l[0]+j;m[b]=f[b]+A-n;x[b]--;F[b]++}}else G=0,H=e.getSliderOffset(a(z[0]),"x"),a(z).each(function(a){e.getSliderOffset(this,"x")>H&&(H=e.getSliderOffset(this,"x"),G=a)}),r=f[b]-a(z[G]).outerWidth(!0),e.setSliderOffset(a(z)[G],r),l.splice(0,0,-1*r+j),l.splice(l.length-1,1),f[b]=-1*l[0]+j,m[b]=f[b]+A-n,x[b]--}else A=a(y).width(),g>-1*f[b]+j&&(h= -1*(f[b]+-1*(Q-k-eventX+j)*q-k)*r/q),g<-1*m[b]&&(h=-1*(m[b]+-1*(Q-k-eventX)*q-k)*r/q);e.setSliderOffset(y,-1*(Q-k-eventX-h)*q-k);c.scrollbar&&(e.showScrollbar(c,v),P=Math.floor((Q-eventX-h-f[b]+j)/(m[b]-f[b])*(p-i-s)*q),k=s,g>=-1*f[b]+j+A?(k=s-C- -1*P,e.setSliderOffset(a("."+v),0),a("."+v).css({width:k+"px"})):g<=-1*m[b]+1?(k=p-i-C-P,e.setSliderOffset(a("."+v),P),a("."+v).css({width:k+"px"})):e.setSliderOffset(a("."+v),P));J&&(u=d.touches[0].pageX);d=!1;h=e.calcActiveOffset(c,-1*(Q-eventX-h),l,n, x[b],E,void 0,b);A=(h+x[b]+E)%E;c.infiniteSlider?A!=W[b]&&(d=!0):h!=F[b]&&(d=!0);if(d&&(F[b]=h,W[b]=A,fa=!0,""!=c.onSlideChange))c.onSlideChange(new e.args(c,y,a(y).children(":eq("+A+")"),A,A,!0))}});a(ga).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(Z[b]||O||ua)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX==u&&e.slowScrollHorizontal(y,z,h,v,T,X,s,n,p,i,C,K,l,b,L,E,ka,fa,j,c);else e.slowScrollHorizontal(y,z,h,v,T,X,s,n,p,i,C,K,l,b,L,E,ka, fa,j,c);la=!1});if(!J){D=a(window);if(ba||aa)D=a(document);a(D).bind("mouseup.iosSliderEvent"+b,function(){S?qa.unbind("click.disableClick").bind("click.disableClick",e.preventClick):qa.unbind("click.disableClick").bind("click.disableClick",e.enableClick);va.each(function(){this.onclick=function(b){if(S)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?ra.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!S)return!1; a(this).one("click.disableClick",e.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&ra.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!S)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!oa[b]){if(O)return!0;a(ga).css({cursor:ca});sa=!1;if(void 0==ja)return!1;e.slowScrollHorizontal(ja,z,h,v,T,X, s,n,p,i,C,K,l,b,L,E,ka,fa,j,c);ja=void 0}la=!1})}}})},destroy:function(h,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;void 0==h&&(h=!0);e.autoSlidePause(d.sliderNumber);oa[d.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+d.sliderNumber);a(document).unbind(".iosSliderEvent-"+d.sliderNumber);a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent"); h&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""),a(d.settings.navPrevSelector).attr("style",""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style",""),a(d.settings.unselectableSelector).attr("style",""));d.settings.scrollbar&&a(".scrollbarBlock"+d.sliderNumber).remove();for(var d=ea[d.sliderNumber],b=0;b<d.length;b++)clearTimeout(d[b]); c.removeData("iosslider")})},update:function(h){void 0==h&&(h=this);return a(h).each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;R.destroy(!1,this);d.settings.startAtSlide=1==d.numberOfSlides?d.settings.startAtSlide:(F[d.sliderNumber]+1+x[d.sliderNumber]+d.numberOfSlides)%d.numberOfSlides;R.init(d.settings,this);if(""!=d.settings.onSliderUpdate)d.settings.onSliderUpdate(new e.args(d.settings,d.scrollerNode,a(d.scrollerNode).children(":eq("+(d.settings.startAtSlide-1)+")"),d.settings.startAtSlide- 1,d.settings.startAtSlide-1,!1))})},addSlide:function(e,d){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;d<=c.numberOfSlides?a(c.scrollerNode).children(":eq("+(d-1)+")").before(e):a(c.scrollerNode).children(":eq("+(d-2)+")").after(e);F[c.sliderNumber]>d-2&&F[c.sliderNumber]++;R.update(this)})},removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e-1)+")").remove();F[d.sliderNumber]> e-1&&F[d.sliderNumber]--;R.update(this)})},goToSlide:function(f,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;f=(f-1+c.numberOfSlides)%c.numberOfSlides;e.changeSlide(f,a(c.scrollerNode),a(c.slideNodes),ea[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings); F[c.sliderNumber]=f})},lock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;Z[e.sliderNumber]=!0})},unlock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;Z[e.sliderNumber]=!1})}};a.fn.iosSlider=function(e){if(R[e])return R[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return R.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);